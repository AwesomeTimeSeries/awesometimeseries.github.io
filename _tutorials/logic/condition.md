---
layout: default
title: 条件语句
nav_order: 1
parent: 逻辑结构
---

# if语句

if语句的格式是：

```c
if(判定条件)
{
    语句1;
    语句2;
    ...
}
```

当if后小括号里的值判定为1时，才会执行花括号里的代码。（大于等于0.5均视为1，反之均视为0）

如：

```c
if(3)
{
    a = 15 + 6;
}
```

或者

```c
a = 15;
if(a)
{
    a -= 3;
    a *= 2;
}
```

或者

```c
a = 15;
b = 2;
if((a >= 12) && (a != b))
{
    a -= b;
    b += 1;
}
```

以上if语句括号中的判定都是1，花括号里内容都会执行。

当花括号中只有一句话时，可以省略花括号，如：

```c
if(3)
    a = 15 + 6;
```

# else语句

与if作伴的还有一个else语句，这个语句必须和if语句在一起才能使用，格式为：

```c
if(判定条件)
{
    语句1;
}
else
{
    语句2;
}
```

当if内判定为1时执行语句1，否则执行语句2。

或者

```c
if(判定条件1)
{
    语句1;
}
else if(判定条件2)
{
    语句2;
}
else if(判定条件3)
{
    语句3;
}
else if ...
```

你可以在后面加很多个else if，对于每一个else if来说，只有在前面的所有if和else if均判定为0时，才会进行该else if的判定。

## 关于花括号

if语句的执行代码如果只有一句，那么是可以不用花括号的（当然用了也是对的），如：

```c
if(i <= 1)
    i += 1;
```

但是，如果你的if语句的执行代码有两句及以上，如：

```c
if(i <= 1)
    i += 1;
    i *= 12;
```

在这里，事实上只有`i += 1;`是属于if的管辖范畴，即使你把`i *= 12;`和`i += 1;`对齐也是没有用的。

所以这里你必须使用花括号，改成：

```c
if(i <= 1)
{
    i += 1;
    i *= 12;
}
```

花括号的意义把里面的代码段整合为一个语句块。

即：**一个花括号等效于一个语句**。

对于有else的多个if的复合语句，建议全部使用花括号。例如下面这段代码：

```c
if(i <= 3)
    if(j >= 6)
        i += j;
else
    i -= j;
```

这段代码的else看起来是对应的是第一个if。然而事实上，else遵循就近原则，它与离自己最近且未和else配对的if进行配对，所以实际上这个else对应的是第二个if，所以实际上相当于是：

```c
if(i <= 3)
    if(j >= 6)
        i += j;
    else
        i -= j;
```

这就和我们想要的效果不同了。所以这段代码应该改为：

```c
if(i <= 3)
{
    if(j >= 6)
        i += j;
}
else
    i -= j;
```

这样else就与第一个if配对。

使用if还不够熟练时，建议全部使用花括号，不管是单个语句还是多个语句，避免出错。注：之后学习的while,do,for等都是这样。

*扩展*：事实上else if只是一种便于阅读的缩写。例如开头那个例子，它的完全体写法是这样的：

```c
if(判定条件1)
{
    语句1;
}
else
{
    if(判定条件2)
    {
        语句2;
    }
    else
    {
        if(判定条件3)
        {
            语句3;
        }
        else ...
    }
}
```

显然不如把else if写在一起更好阅读。

# switch语句

switch语句的通式为：

```c
switch(被测量值)
{
    case 值1:
        代码1;
        break;

    case 值2:
        代码2;
        break;

    ...

    default:
        代码n+1;
}
```

**被测量值**可以是一个变量，一个返回值不确定的函数等。

**case**后的内容是被测量值有可能的取值。case应以冒号结尾。

**代码1**是指被测量值为值1的时候执行的代码，同理，**代码2**是被测量值为值2时执行的代码。记住每一个case段落最后要加上一个`break;`结尾。

最后以`default:`结尾，当被测量值不满足之前给出的n个case时，执行default后的代码。当然default段落也可以不写。

上述switch其实等效于：

```c
if(被测量值 == 值1)
{
    代码1;
}
else if(被测量值 == 值2)
{
    代码2;
}
else if...
...
else
{
    代码n+1;
}
```

不同的case可以共用一个代码段，例如下面的格式：

```c
switch(被测量值)
{
    case 值1:
    case 值2:
    case 值3:
        代码1;
        break;

    case 值4:
    case 值5:
        代码2;
        break;

    ...

    default:
        代码n+1;
}
```

它等效于：

```c
if(被测量值 == 值1 || 被测量值 == 值2 || 被测量值 == 值3)
{
    代码1;
}
else if(被测量值 == 值4 || 被测量值 == 值5)
{
    代码2
}
else if...
...
else
{
    代码n+1;
}
```
